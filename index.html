<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TimeCash ‚Äì Stundenlohnrechner</title>
  <link rel="stylesheet" href="timecash.css" />
</head>
<body>
  <div class="wrapper">
    <h1>‚è≥ Lohnrechner</h1>

    <label for="rate">Stundenlohn (CHF):</label>
    <input type="number" id="rate" placeholder="z.‚ÄØB. 25" inputmode="decimal"/>

    <label for="hours">Gearbeitete Zeit (hh:mm oder hhmm):</label>
    <input type="text" id="hours" placeholder="z.‚ÄØB. 0322" inputmode="numeric" maxlength="5" />

    <button onclick="berechneLohn()">Berechnen</button>

    <p id="result" class="result"></p>
  </div>

  <script>
    function parseTimeInput(timeStr) {
      let hours, minutes;

      if (timeStr.includes(":")) {
        const parts = timeStr.split(":");
        hours = parseInt(parts[0], 10);
        minutes = parseInt(parts[1], 10);
      } else if (timeStr.length === 4 && /^\d{4}$/.test(timeStr)) {
        hours = parseInt(timeStr.substring(0, 2), 10);
        minutes = parseInt(timeStr.substring(2), 10);
      } else {
        return null;
      }

      if (
        isNaN(hours) || isNaN(minutes) ||
        hours < 0 || hours > 23 ||
        minutes < 0 || minutes > 59
      ) {
        return null;
      }

      return hours + minutes / 60;
    }

    function berechneLohn() {
      const rate = parseFloat(document.getElementById('rate').value);
      const timeInput = document.getElementById('hours').value.trim();
      const hours = parseTimeInput(timeInput);
      const resultEl = document.getElementById('result');

      if (!rate || hours === null) {
        resultEl.textContent = '‚ùó Bitte g√ºltige Werte eingeben.';
        return;
      }

      const lohn = rate * hours;
      resultEl.textContent = `üí∏ Dein Lohn: CHF ${lohn.toFixed(2)}`;
    }

    // F√ºr Desktop: ENTER berechnet
    document.addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        berechneLohn();
      }
    });
  </script>
</body>
</html>


